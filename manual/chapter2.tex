\chapter{Wie erstelle ich einen Automaten?}

Wir wollen uns ahand des folgenden Beispiels anschauen wie ein Automat erstellt
wird:\vspace{10pt}

\section{Neue Automat Datei anlegen}

Am Anfang müssen wir dazu erst einmal den "`Neu\ldots"' Dialog öffnen. Dort
wählen wir aus, dass wir einen Automaten erstellen wollen und klicken
auf "`Weiter"'.\vspace{10pt}

Im nächsten Dialog werden wir gefragt von welchem Typ unser neuer
Automat sein soll. In unserem Beispiel handelt es sich um eine
"`$\epsilon$-NDEA"', welches wir auswählen und mit "`Weiter"'
bestätigen.\vspace{10pt}

Dann müssen wir das gewünschte Alphabet für den neuen Automaten
angeben. Im Alphabet können alle Symbole werwendet werden, die nicht zur Syntax
der Eingabe gehören. Das bedeutet \Symbol{,}, \Symbol{\{}, \Symbol{\}} und
\SymbolEmpty{} können hier nicht verwendet werden.\vspace{10pt}

In dem Dialog sind an allen Stellen schon vordefinierte Werte eingetragen.
Dabei handelt es sich um die Vorgaben die man als Standardwerte in den
Einstellung eingetragen hat. Wie man diese Standardwerte ändert kann man in Kapitel $4$ nachlesen.\vspace{10pt}

Wir müssen noch die von uns benötigten Symbole angeben. Dazu tragen wir in das
Feld Alphabet \{\Symbol{0},\ \Symbol{1},\ \Symbol{2},\ \Symbol{3},\
\Symbol{4},\ \Symbol{5},\ \Symbol{6},\ \Symbol{7},\ \Symbol{8},\ \Symbol{9},\
\Symbol{-}\} ein. Damit haben wir alle benötigten Information eingegeben und
können den neuen Automaten durch klick auf "`Fertig"' erstellen.\vspace{10pt}
\vspace{10pt} 

Das für den Automaten angegebene Alphabet lässt sich jeder Zeit über "`Dokument
editieren"' nächträglich ändern.

\section{Zustände und Übergänge anlegen}

Um einen Automaten zu bearbeiten müssen wir zuerst den entsprechenden Modus
auswählen. Folgende Modi sind in der Toolbar verfügbar:

\begin{itemize}
  \item Maus Modus
  \item Neuer Zustand
  \item Neuer Übergang
  \item Neuer Start Zustand
  \item Neuer Akzeptierender Zustand
\end{itemize}

Da wir zu Beginn den Startzustand anlegen wollen wählen wir "`Neuer Akzeptierender
Zustand"' und klicken auf eine freie Fläche um den Zustand dort zu erstellen.
Wenn wir den Zustand bearbeiten wollen um den Namen zu ändern, oder ob es sich
um einen akzeptierenden oder Start Zustand handelt müssen wir in den Maus Modus
wechseln. Den Konfigurationsdialog erreicht man dann über Doppelklick oder das
Kontextmenü. Über das Kontextmenü lässt sich ein Zustand auch wieder
löschen.\vspace{10pt}

Auf diese Weise lassen sich alle Zustände anlegen die für den Beispielautomaten
benötigt werden. Nachdem wir alle Zustände angelegt haben, fehlen noch die
Übergänge zwischen den Zuständen. Daher wechseln wir in den "`Neuer Übergang"'
Modus. Um jetzt einen neuen Übergang anzulegen klicken wir auf einen Zustand 
und ziehen, bei gedrückter Maustaste, die Maus auf einen anderen Zustand. Beim
loslassen öffnet sich der Konfigurationsdialog für Übergänge. In diesem Dialog 
ziehen wir jetzt die Symbole die in dem Übergang enthalten sein sollen aus der 
linken Liste mit allen Symbolen in die Rechte Liste, welche die Übergangsmenge
repräsentiert. Als Hilfestellung wird im unteren Dia\-log der entstehende
Übergang angezeigt. Nach bestätigen durch "`Ok"' wird der Übergang angelegt.\vspace{10pt}

Die Übergänge lassen sich auf die gleiche Weise bearbeiten und löschen wie
es bei den Zuständen möglich ist. Es gibt allerdings eine Besonderheit. Wenn
man die Maus anstatt über einem Zustand, über einem leeren Bereich
loslässt, wird beim Anlegen des Übergangs zusätzlich ein neuer Zustand
angelegt.\vspace{10pt}

Sollten die Zustände nicht ganz so optimal plaziert sein, kann man
versuchen über die Autolayout Funktion ein besseres Ergebnis zu
erreichen. Diese ist über "`Ausführen" und "`Autolayout" oder über
das Kontextmenü erreichbar.\vspace{10pt}

Diesen Vorgang wiederholen wir jetzt für alle Übergänge, die
für den Beispielautomaten benötigt werden. Wenn wir damit fertig sind, können
wir den Automaten noch validieren, um zu sehen ob uns beim Anlegen der Zustände
und Übergänge irgendwelche Fehler unterlaufen sind. Diese Funktion erreicht man
über das Kontextmenü oder über den Menüpunkt "`Ausführen"'.

\section{Was fange ich mit einem fertigen Automat an?}

Für einen erstellten Automaten gibt es folgende
Ver\-wen\-dungs\-möglich\-keiten:

\begin{itemize}
  \item Vorlage für\ldots
  \item Wortnavigation
  \item Minimieren
  \item Umwandeln in\ldots
  \item Umwandeln in\ldots (Potenzmenge)
  \item Erreichbare Zustände
\end{itemize}

\subsection{Vorlage für\ldots}
  
  Ein Automat kann als Vorlage für einen neuen Automaten benutzt werden. Dies
  sollte nicht mit "`Umwandeln in\ldots"' verwechselt werden. Es wird eine neue
  Datei angelegt, die alle Zustände und Übergänge des Ausgangsautomaten hat.
  Allerdings kann man den Automatentypen neu festlegen.
  
\subsection{Wortnavigation}
  
  Wir können für einen Automaten eine Wortnavigation starten. Das bedeutet,
  dass wir ein Wort eingeben können, welches wir den Automaten verarbeiten
  lassen wollen, und dann Symbolweise vor und zurück navigieren können. Dabei
  werden die aktuell aktiven Zustände und Übergänge farblich hervorgehoben. Am
  Ende können wir dann sehen, ob der Automat das von uns gewählte Wort
  akzeptiert oder nicht.\vspace{10pt}
  
  Während man sich im Wortnavigationsmodus
  befindet lässt sich der Automat nicht weiter bearbeiten. Das bedeutet
  wir können Zustände und Übergänge weder anlegegen noch löschen
  oder bearbeiten. Dies ist erst nach verlassen dieses Moudus wieder
  möglich.\vspace{10pt}
  
  Zur Wortnavigation gelangt man über den Menüpunkt "`Ausführen"' und "`Wort
  eingeben"', oder direkt über den Togglebutton in der Toolbar. In dem
  Feld "`Wort"' können wir jetzt ein beliebiges Wort eingeben. Als
  Hilfestellung sehen wir rechts neben dem Eingabefeld das aktuelle Alphabet
  mit den gültigen Symbolen.\vspace{10pt}
  
  Nachdem wir das Wort eingegeben haben startet man die Navigation über
  "`Start"' ind der Toolbar oder im Kontextmenü. Jetzt kann man mit "`Schritt
  vor"' und "`Schritt zurück durch das Wort navigieren. Es existiert auch noch
  ein automatischer Modus. Dabei wird nach einer kurzen Verzögerung das nächste
  Symbol gelesen. Dieser Modus lässt sich durch den Togglebutton "`Automatische
  Schritte"' aktivieren und deaktivieren.\vspace{10pt}
  
  Wenn man wissen möchte, über welche Pfade man zu den momentan aktiven
  Zuständen gelangt ist, kann man sich dies über "`Extras"' und
  "`Zustandspfad"' anzeigen lassen. Es öffnet sich ein neuer Dialog, mit einer
  Tabelle in welcher für jeden aktiven Zustand der aktuelle Pfad angezeigt
  wird.\vspace{10pt}
  
  Um die Wortnavigation zu beenden klickt man einfach wieder auf "`Wort
  eingeben"' in der Toolbar oder man wählt im Menü "`Ausführen"' den Punkt
  "`Automat bearbeiten"'. Jetzt befinden wir uns wieder im normalen Modus und
  wir können den Automaten wieder normal bearbeiten.
   
\subsection{Minimieren}
  
  Es besteht auch die Möglichkeit sich aus einem DFA den minimalen Automaten
  berechnen zu lassen. Für diese Funktion darf der Automat allerdings keine
  Fehler mehr enthalten, was wir durch eine Validierung ausschließen können.
  Das Minimieren startet man über den Menüpunkt "`Ausführen"' und
  "`Minimieren"'.\vspace{10pt}
  
  Es öffnet sich ein neuer Dialog mit einer Ansicht des Automaten und einer
  Tabelle. In der Automatenansicht werden immer die Zustände in der selben
  Farbe dargestellt, welche sich in einer Äquivalenzklasse befinden. Also
  haben Initial alle akzeptierenden Zustände die gleiche Farbe, und alle nicht
  akzeptierenden Zustände.\vspace{10pt}
  
  Man kann jetzt durch klicken auf "`Schritt vor"' die Äquivalenzklassen weiter
  verfeinern. In der Tabelle wird angegeben welche Zustände in eine eigene
  Äquivalenzklasse gekommen sind, und diese werden auch jetzt in einer anderen
  Farbe dargestellt. Gleichzeitig werden auch die Übergänge hervorgehoben,
  welche bei diesem Verfeinerungsschritt eine Rolle gespielt haben. Dabei
  beziehen sich die hervorgehobenen Übergänge immer auf den aktuell
  ausgewählten Tabelleneintrag.\vspace{10pt}
  
  Auf diese Weise kann man den Automaten jetzt Schritt für Schritt weiter
  verfeinern, bis keine Verfeinerung der Äquivalenzklassen mehr möglich ist.
  Wenn das der Fall ist, wird auch eine zweite Automatenansicht eingeblendet,
  in der man den entstandenen minimierten Automaten sehen kann. Durch
  bestätigen mit "`Ok"' wird jetzt eine neue Datei mit dem minimierten
  Automaten erstellt, mit welcher man dann weiter arbeiten kann.\vspace{10pt}
  
  Natürlich kann der Minimierungsprozess jederzeit abgebrochen werden. In
  diesem Fall wird keine neue Datei angelegt, und man kann den
  Ausgangsautomaten weiter bearbeiten. \vspace{10pt}
  
  Wenn man in den Navigationsbereich des Dialogs schaut, stellt man fest, das
  noch weitere Button verfügbar sind, auf welche jetzt noch nicht eingegangen
  wurde. Zunächst einmal gibt es die Button "`Bis zum Ende vor"' und "`An den
  Anfang zurück"'. Mit "`Bis zum Ende vor"' kann man alle Zwischenschritte
  überspringen, und gelangt direkt zur Ansicht des minimalen Automaten. "`An den
  Anfang zurück"' bewirkt genau das Gegenteil, und springt zur Ausgangsansicht
  zurück. Dann gibt es noch einen "`Schritt zurück"' Button, welcher einzelne
  Verfeinerungsschritte rückgängig macht. Und schlussendlich gibt es noch einen
  Button "`Automatische Schritte"', welcher nach einer kurzen Verzögerung
  automatisch den nächsten Schritt macht, bis der Minimierungsprozess
  abgeschlossen ist. Diese Funktion kann durch den "`Stop"' Button wieder
  deaktiviert werden.\vspace{10pt}
  
  Wenn man die neue Datei mit dem minimalen Automaten erstellen möchte, ohne
  sich die Minimierung im Details anzuschauen, besteht jederzeit die
  Möglich\-keit den Dialog mit "`Ok"' zu bestätigen. Die Minimierung wird dann im
  Hintergrund beendet, und man gelangt sofort zur Ansicht des neu entstandenen
  Automaten, und kann mit diesem weiterarbeiten.
  
  
\subsection{Umwandeln in\ldots}
  
  TODO CF
  
\subsection{Umwandeln in\ldots (Potenzmenge)}
  
  TODO CF


\subsection{Ereichbare Zustände}

Über den Menüeintrag "`Extras"' kann der Punkt "`Erreichbare Zustände"'
ausgewählt werden. In dem erscheinenden Dialog kann, wie in den anderen auch,
durch die einzelnen Schritte navigiert werden. Es geht hierbei darum in möglichst
kleinen Schritten zu erkennen, welche Zustände erreichbar sind und welche nicht.
Der verwendete Algorithmus geht dabei in folgenden drei Schritten vor:

\begin{itemize}
  \item Ein Zustand, der noch nicht berechnet wurde, wird ausgewählt (am Anfang
  wird mit dem Start Zustand begonnen)
  \item Die von dem ausgewählten Zustand aus zu erreichenden Zustände werden
  hervorgehoben und falls sie noch nicht berechnet wurden, zu der Menge der noch
  zu berechnenden Zustände hinzugefügt
  \item Die bis jetzt ereichbaren Zustände werden hervorgehoben. Die Menge der
  noch nicht berechneten Zustände angezeigt 
\end{itemize}

Der Algorithmus läuft so lange, bis die Menge der noch nicht berechneten Zustände
leer ist. Am Ende werden alle erreichbaren Zustände farblich hervorgehoben. Wie
in den anderen Dialogen besteht jederzeit die Möglichkeit den Dialog abzubrechen,
wobei er dann einfach geschlossen wird. Man hat auch jederzeit die Möglichkeit
mit einem Klick auf "`OK"' die nicht erreichbaren Zustände zu berechnen und eine
Datei anzulegen, die diese nicht erreichbaren Zustände nicht enthält. Dabei
werden auch alle beteiligten Übergänge nicht mit übernommen.
