<?xml version="1.0"?>
<!--
	$Id$
	
	Copyright (c) 2007-2008 Christian Fehler
-->
<project name="gtitool.presentation" default="dist" basedir=".">

	<!-- property -->
	<property name="sourcedir" value="${basedir}/source" />
	<property name="builddir" value="${basedir}/build" />
	<property name="myslidesdir" value="${basedir}/myslides" />
	<property name="distdir" value="${basedir}/dist" />
	<property name="outputfile" value="presentation" />

	<!-- dist -->
	<target name="dist" description="Dist presentation">
		<!-- delete -->
		<delete>
			<fileset dir="${builddir}" includes="**/*" />
		</delete>
		<!-- copy -->
		<copy file="${myslidesdir}/myslides" tofile="${builddir}/myslides.cls" />
		<copy file="${myslidesdir}/affiliation" tofile="${builddir}/affiliation.cfg" />
		<copy file="${myslidesdir}/calc" tofile="${builddir}/calc.sty" />
		<copy todir="${builddir}">
			<fileset dir="${sourcedir}">
				<include name="*" />
			</fileset>
		</copy>
		<!-- pdf latex -->
		<exec dir="${builddir}" os="Linux" executable="pdflatex">
			<arg value="${outputfile}.tex" />
		</exec>
		<exec dir="${builddir}" os="Linux" executable="pdflatex">
			<arg value="${outputfile}.tex" />
		</exec>
		<!-- copy -->
		<copy file="${builddir}/${outputfile}.pdf" todir="${distdir}" />
		<!-- delete -->
		<delete>
			<fileset dir="${builddir}" includes="**/*" />
		</delete>
		<!-- message -->
		<echo message="Dist presentation finished" />
	</target>
</project>